+++
title = "org with hugo"
author = ["ysk"]
date = 2025-06-06T07:40:00+09:00
draft = false
+++

## 개요 {#개요}

org 문서를 hugo md 파일로 export 하기


## 설정 {#설정}

`org-directory` 에 아래 내용으로 `.dir-local.el` 파일을 작성한다.

```elisp
(("denote/"
  . ((org-mode
      . ((org-hugo-base-dir . "~/box/suguni.github.io/")
         (org-hugo-section . "notes")))))

 ("denote/blog/"
  . ((org-mode
      . ((org-hugo-section . "posts")
         (eval . (org-hugo-auto-export-mode)))))))
```

디렉토리는 `~/notes/denote/posts` 로 구성되어 있고, `org-directory` 는 `~/notes/` 이다.

blog 파일은 저장할 때마다 자동으로 export 되며, denote 파일은 수동 export 또는 [emacs local variable](https://www.gnu.org/software/emacs/manual/html_node/emacs/Specifying-File-Variables.html) ([ox-hugo](https://ox-hugo.scripter.co/doc/auto-export-on-saving/#enable-only-for-an-org-file)) 을 이용해 자동 export 한다.


## 삽질 {#삽질}

-   디렉토리별로 `.dir-local.el` 파일을 작성하면 상위 디렉토리에서 설정한 값이 하위 디렉토리에 유지되지 않는다. 아직도 오버라이딩 되는 규칙 확신이 없음.
-   author는 문서에 `#+author` 를 명시하지 않은 경우  `user-full-name` 변수값으로 설정된다. 그런데 `.dir-local.el` 에서 `user-full-name` 를 설정해도 반영되지 않는다. 그냥 문서에 명시하는 것으로 해결.


## 도구 {#도구}

-   [denote](https://protesilaos.com/emacs/denote) (+ [org](https://orgmode.org/)) note 작성
-   [ox-hugo](https://ox-hugo.scripter.co/) org 문서를 hugo-compatible markdown 으로 export 해 주는 backend


## 참고 {#참고}

[Using Org Mode With Hugo](https://weblog.masukomi.org/2024/07/19/using-org-mode-with-hugo/)
